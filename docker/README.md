[![Docker pulls](https://img.shields.io/docker/pulls/databio/lolaweb.svg)](https://hub.docker.com/r/databio/lolaweb/) [![Build Status](https://travis-ci.org/databio/LOLAweb.svg?branch=master)](https://travis-ci.org/databio/LOLAweb)

# Shiny LOLAweb for Docker

## `build` the container image yourself

1. Clone this repository
2. Build locally using Docker. Run this command from the same directory as the `Dockerfile`.

```docker build --no-cache -t lolaweb .```


## Or `pull` the container image:

```docker pull databio/lolaweb```


## Reference Data

See the [LOLAweb documentation](https://github.com/databio/LOLAweb/tree/master/apps/LOLAweb) for downloading reference data.


## `run` the LOLAweb container locally with reference data:

    docker run -d \
      -p 80:80 \
      -v /data/lola/reference:/srv/shiny-server/LOLAweb/apps/LOLAweb/reference \
      -v /data/lola/universes:/srv/shiny-server/LOLAweb/apps/LOLAweb/universes \
      -v /data/lola/userSets:/srv/shiny-server/LOLAweb/apps/LOLAweb/userSets \
      -v /data/lola/cache:/srv/shiny-server/LOLAweb/apps/LOLAweb/cache \
      -v /data/lola/shinylog:/var/log/shiny-server \
      databio/lolaweb

The first four volumes are for reference data and result sets. The final volume is a unified log directory, allowing admins to view logs generated by the Shiny application.

Open a browser to:
```
http://localhost/LOLAweb/apps/LOLAweb
```

## Run LOLAweb in a Docker Swarm:

Docker Swarm is a technique for running multiple instances of the same container. [Read more](swarm/README.md) about how to set up your own swarm.
